<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8" />
    <title>Exemplo CRUD</title>
    
    <!-- Bootstrap core CSS -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    
    <!-- Library's -->
    <script src="lib/angular.min.js"></script>
    <script src="lib/angular-locale_pt-br.js"></script>
    
    <!-- Javascript da aplicação -->
    <script src="app.js"></script>
    
    <style>        
        .container {
            width: 550px;
        }
        .container h1 {
            margin: 40px 0px;
        }
        .panel-footer {
            padding: 20px 70px 40px 70px;
        }
        .panel-footer h3 {
            text-align: center;
            margin-bottom: 30px;
        }
        .panel-footer .form-control {
            margin-bottom: 5px;
        }
        .panel-footer button {
            margin-top: 10px;
        }
        .selecionado {
            background-color: #FFFFCC !important;
        }
        .msg-error {
            color: #D20000;
            margin-bottom: 10px;
            padding-left: 10px;
        }
    </style>
</head>
<body ng-app="app.crud" ng-controller="ProdutoCtrl">
    <div class="container">
    
        <h1>Cadastro de Produtos</h1>
        
        <div class="panel panel-primary">
            <div class="panel-heading">Listagem de Produtos</div>
            
            <div class="panel-body">
                <p ng-if="produtos.length == 0" class="text-danger">Não existem registros para serem exibidos!</p>
                <table ng-if="produtos.length > 0" class="table table-striped table-condensed">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Nome do Produto</th>
                            <th width="100px">Grupo</th>
                            <th width="50px" class="text-center">Qtdade.</th>
                            <th width="100px" class="text-right">Preço</th>
                            <th>Data Inc.</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-class="{selecionado: produto.selecionado}" ng-repeat="produto in produtos">
                            <td><input type="checkbox" ng-model="produto.selecionado" /></td>
                            <td>{{ produto.nome }}</td>
                            <td>{{ produto.grupo.nome | uppercase }}</td>
                            <td class="text-center">{{ produto.qtdade }}</td>
                            <td class="text-right">{{ produto.preco | currency }}</td>
                            <td>{{ produto.dtinclusao | date }}</td>
                        </tr>
                    </tbody>
                </table>
                <button class="btn btn-danger pull-right" ng-click="remover(produtos)" 
                        ng-if="isSelecionado(produtos)">Remover Selecionado(s)</button>
            </div>
            
            <div class="panel-footer">
                <h3>Adicionar Produto</h3>
                <form name="produtoForm">
                    <input type="text" class="form-control" placeholder="Nome do Produto" ng-model="produto.nome" ng-required="true" ng-minlength="3" ng-maxlength="30" name="nome" />
                    <div class="msg-error" ng-show="produtoForm.nome.$dirty && produtoForm.nome.$invalid">
                        <small ng-show="produtoForm.nome.$error.required">* Campo obrigatório</small>
                        <small ng-show="produtoForm.nome.$error.minlength">* O campo deve ter mais de 3 caracteres</small>
                        <small ng-show="produtoForm.nome.$error.maxlength">* O campo deve ter menos de 30 caractesres</small>
                    </div>
                    
                    <select class="form-control" ng-model="produto.grupo" ng-options="grupo.nome for grupo in grupos" ng-required="true" name="grupo">
                        <option value="">Selecione um Grupo</option>
                    </select>
                    <div class="msg-error" ng-show="produtoForm.grupo.$dirty && produtoForm.grupo.$invalid">
                        <small ng-show="produtoForm.grupo.$error.required">* Campo obrigatório</small>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <input type="number" class="form-control" placeholder="Qtdade." ng-model="produto.qtdade" ng-required="true" name="qtdade"/>
                            <div class="msg-error" ng-show="produtoForm.qtdade.$dirty && produtoForm.qtdade.$invalid">
                                <small ng-show="produtoForm.qtdade.$error.required">* Campo obrigatório</small>
                            </div> 
                        </div>
                        <div class="col-md-6">
                            <input type="number" class="form-control" placeholder="Preço" ng-model="produto.preco" ng-required="true" name="preco"/>
                            <div class="msg-error" ng-show="produtoForm.preco.$dirty && produtoForm.qtdade.$invalid">
                                <small ng-show="produtoForm.preco.$error.required">* Campo obrigatório</small>
                            </div> 
                        </div>
                    </div> 
                </form>
                <button class="btn btn-primary btn-block" ng-click="adicionar(produto)" ng-disabled="produtoForm.$invalid">Adiconar Produto</button>
            </div>
        </div>
        
    </div>
    
    <!-- Javascript dos Controller`s -->
    <script src="controller/produtoCtrl.js"></script>
    
</body>
</html>
























    
    
    
    
    
    
    
    
    